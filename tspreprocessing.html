<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="David Josephs" />

<meta name="date" content="2019-12-09" />

<title>Preprocessing Time Series Data</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/darkly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link href="site_libs/ionicons-2.0.1/css/ionicons.min.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #232629;
    color: #7a7c7d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
div.sourceCode
  { color: #cfcfc2; background-color: #232629; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span. { color: #cfcfc2; } /* Normal */
code span.al { color: #95da4c; } /* Alert */
code span.an { color: #3f8058; } /* Annotation */
code span.at { color: #2980b9; } /* Attribute */
code span.bn { color: #f67400; } /* BaseN */
code span.bu { color: #7f8c8d; } /* BuiltIn */
code span.cf { color: #fdbc4b; } /* ControlFlow */
code span.ch { color: #3daee9; } /* Char */
code span.cn { color: #27aeae; } /* Constant */
code span.co { color: #7a7c7d; } /* Comment */
code span.cv { color: #7f8c8d; } /* CommentVar */
code span.do { color: #a43340; } /* Documentation */
code span.dt { color: #2980b9; } /* DataType */
code span.dv { color: #f67400; } /* DecVal */
code span.er { color: #da4453; } /* Error */
code span.ex { color: #0099ff; } /* Extension */
code span.fl { color: #f67400; } /* Float */
code span.fu { color: #8e44ad; } /* Function */
code span.im { color: #27ae60; } /* Import */
code span.in { color: #c45b00; } /* Information */
code span.kw { color: #cfcfc2; } /* Keyword */
code span.op { color: #cfcfc2; } /* Operator */
code span.ot { color: #27ae60; } /* Other */
code span.pp { color: #27ae60; } /* Preprocessor */
code span.re { color: #2980b9; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #da4453; } /* SpecialString */
code span.st { color: #f44f4f; } /* String */
code span.va { color: #27aeae; } /* Variable */
code span.vs { color: #da4453; } /* VerbatimString */
code span.wa { color: #da4453; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">David Does Data</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Nix
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="nix.html">Nix for Data Science 1</a>
    </li>
    <li>
      <a href="advancedNix.html">Nix for Data Science 2: COMING SOON</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    IML
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="iml.html">Interpretable Machine Learning: Part 1</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Time Series
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="tsEDA.html">Time Series EDA</a>
    </li>
    <li>
      <a href="tspreprocessing.html">Time Series Cleaning</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/josephsdavid">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/Daved256">
    <span class="ion ion-social-twitter"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Preprocessing Time Series Data</h1>
<h4 class="author">David Josephs</h4>
<h4 class="date">2019-12-09</h4>

</div>


<p><a href="tsEDA.html">Part 2</a></p>
<div id="forecasting-air-pollution-preprocessing" class="section level1">
<h1>Forecasting Air Pollution: Preprocessing</h1>
<p><span class="newthought">Before we begin</span> any data science project, it is important to discuss the motivation and setting for it. This is especially important for time series data, as a realistic forecast horizon (how far we wish to forecast into the future) is highly important.</p>
<p><img src="images/Airpol.jpg" /><!-- --></p>
<p>In China, <a href="https://www.cnbc.com/2017/02/14/around-22-million-deaths-in-india-and-china-from-air-pollution-study.html">millions</a> die due to air pollution each year. We would like to see if we can use data science to help them out. By forecasting when pollution will be at its worst, we can help policymakers and communities implement smart, short-term energy policies to combat it, as well as distribute masks, and prepare for the worst, in order to minimize the damage.</p>
<blockquote>
<p>What forecast horizon will be most useful?</p>
</blockquote>
<p>This is a tricky part. Forecast too short (single digit hours), and there will be no time to prepare. Forecast too far ahead, and we risk making a bad forecast. In order to better decide, it is important to do a quick search on relevant literature, websites, etc. <a href="http://aqicn.org/forecast/world/">The world air quality site</a> forecasts 8 days ahead. <a href="https://www3.epa.gov/airnow/aq_forecasting_guidance-1016.pdf">The EPA</a> suggests that for local forecasts (cities and regions of cities) we forecast a few days ahead, and that we also know when it starts to ramp up. Therefore, we will need to develop a model that accurately forecasts every hour for 3 days, or 72 hours.</p>
</div>
<div id="getting-data" class="section level1">
<h1>Getting Data</h1>
<p>For now, before we deploy our model with a data collection script, we will use the data referenced in <a href="https://agupubs.onlinelibrary.wiley.com/doi/full/10.1002/2016JD024877">this paper</a>. If you are following this blog, you can get the data at:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">git</span> clone https://github.com/josephsdavid/ChinsePM.git</span></code></pre></div>
<p>In the data directory.</p>
<p><span class="newthought">The next step</span> before doing anything is to define the data. We have Data collected in 5 cities: Beijing, Chengdu, Guangzhou, Shanghai, and Shenyang. Each of these datasets contains: air quality measurements from multiple locations within each city, humidity, air pressure, temperature, precipitation, wind direction, and wind speed, as well as info on date. For now, we will just look at the data from Beijing, measured at the US Embassy. Then, we will expand that to the other locations within Beijing, and all the other locations in the other cities. First we must build a good single model. However, keeping in mind that we will be interested in all the data when we preprocess it will save us time in the future. We must write code that can be scaled to a much larger degree.</p>
</div>
<div id="batch-importing-csvs" class="section level1">
<h1>Batch Importing CSVs</h1>
<p>As our data is in the format of multiple CSVs, we must first write a function to batch imort CSVs. In this case, we want to grab all the files in the <code>data</code> directory. We will need an understanding of <code>lapply</code>, as well as basic regex, in order to import our files into a list. We will also need a file import function (any will do). In my case, I will use <code>data.table::fread</code>, in order to quickly read in the files. You can also use <code>vroom::vroom</code>, but i frequently have issues with the lazy evaluation it provides, and find it leads to unexpected slow points in my code.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">library</span>(data.table)  <span class="co"># fast tabular data structures</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw">library</span>(pipeR)  <span class="co"># fast %&gt;&gt;% dumb %&gt;&gt;% pipes</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="kw">library</span>(magrittr)  <span class="co"># slow %&gt;% smart %&gt;% pipes</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>import &lt;-<span class="st"> </span><span class="cf">function</span>(path) {</span>
<span id="cb2-5"><a href="#cb2-5"></a>    <span class="co"># first we list the files in the directory</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>    files &lt;-<span class="st"> </span><span class="kw">list.files</span>(path)</span>
<span id="cb2-7"><a href="#cb2-7"></a>    <span class="co"># next we search for csvs using grepl</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>    files &lt;-<span class="st"> </span>files[<span class="kw">grepl</span>(files, <span class="dt">pattern =</span> <span class="st">&quot;.csv&quot;</span>)]</span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="co"># next we append the path to the list of files: we use vapply because we</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>    <span class="co"># want vector output, and its incredibly fast (the fastest of the apply</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>    <span class="co"># family)</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>    filepaths &lt;-<span class="st"> </span><span class="kw">vapply</span>(files, <span class="cf">function</span>(x) <span class="kw">paste0</span>(path, x), <span class="kw">character</span>(<span class="dv">1</span>))</span>
<span id="cb2-13"><a href="#cb2-13"></a>    <span class="co"># import the files as a list</span></span>
<span id="cb2-14"><a href="#cb2-14"></a>    imports &lt;-<span class="st"> </span><span class="kw">lapply</span>(filepaths, fread)</span>
<span id="cb2-15"><a href="#cb2-15"></a>    <span class="co"># next we set up the names of each import to the list</span></span>
<span id="cb2-16"><a href="#cb2-16"></a>    filenames &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot;.csv&quot;</span>, <span class="st">&quot;&quot;</span>, files)</span>
<span id="cb2-17"><a href="#cb2-17"></a>    <span class="co"># and any numbers</span></span>
<span id="cb2-18"><a href="#cb2-18"></a>    filenames &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot;[[:digit:]]+&quot;</span>, <span class="st">&quot;&quot;</span>, filenames)</span>
<span id="cb2-19"><a href="#cb2-19"></a>    <span class="kw">names</span>(imports) &lt;-<span class="st"> </span>filenames</span>
<span id="cb2-20"><a href="#cb2-20"></a>    <span class="kw">return</span>(imports)</span>
<span id="cb2-21"><a href="#cb2-21"></a>}</span></code></pre></div>
<div id="checking-for-missing-data" class="section level2">
<h2>Checking for Missing Data</h2>
<p><span class="newthought">The next important step</span> is to check for missing data, so we know wether or not we have to import it. We can do this quickly with <code>rapply</code>, which recursively applies a function to the deepest itemset of each item in a nested list:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>naPerc &lt;-<span class="st"> </span><span class="cf">function</span>(xs) {</span>
<span id="cb3-2"><a href="#cb3-2"></a>    <span class="kw">rapply</span>(xs, <span class="cf">function</span>(x) <span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="kw">sum</span>(<span class="kw">is.na</span>(x)<span class="op">/</span><span class="kw">length</span>(x)), <span class="dt">how =</span> <span class="st">&quot;list&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3"></a>}</span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="kw">import</span>(<span class="st">&quot;data/&quot;</span>) <span class="op">%&gt;&gt;%</span><span class="st"> </span>naPerc <span class="op">%&gt;%</span><span class="st"> </span>.[[<span class="dv">1</span>]] <span class="op">%&gt;&gt;%</span><span class="st"> </span>data.frame <span class="op">%&gt;%</span><span class="st"> </span>.[<span class="op">-</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>)]</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["PM_Dongsi"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["PM_Dongsihuan"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["PM_Nongzhanguan"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["PM_US.Post"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["DEWP"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["HUMI"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["PRES"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["TEMP"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["cbwd"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["Iws"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["precipitation"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["Iprec"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"52.35813","2":"60.99954","3":"52.58824","4":"4.178077","5":"0.009508596","6":"0.6446828","7":"0.6446828","8":"0.009508596","9":"0.009508596","10":"0.009508596","11":"0.9204321","12":"0.9204321"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>By applying this, we see that in the data collected by the US embassy in Beijing there are about 4% NA values, and in the weather data a few too. The other data collection sites have far worse data quality. All in all, we have to deal with them.</p>
</div>
</div>
<div id="imputing-nas-in-time-series-data" class="section level1">
<h1>Imputing NAs in Time Series Data</h1>
<p>As this is time series data, we will have to deal with missing values a little differently. If this were normal data, and we had 50,000 rows and 4-5% of the data we care about contains missing values, we would be just fine just getting rid of them. However, in a time series, we care about the order of events, and in general they must be <strong>evenly</strong> sampled, in order to preserve the frequency of the dataset (there are a few ways to get around this, for example in astronomical time series they frequently use <a href="https://en.wikipedia.org/wiki/Least-squares_spectral_analysis">Least-Squares Spectral Analysis or the Lomb-Scargle periodigram</a>). However, this adds a degree of complexity and inaccuracy to our data which we would like to avoid if possible. To do this, we can use some interpolation.</p>
<div id="spline-interpolation" class="section level2">
<h2>Spline Interpolation</h2>
<p>There are many types of interpolation, other useful techniques include the Kalman filter and linear interpolation. However, spline interpolation is very very fast, has good accuracy (good enough to handle 4% of 50,000 points).</p>
<div class="figure" style="text-align: center">
<img src="images/spline.png" alt="Spline Interpolation Between 8 points"  />
<p class="caption">
Spline Interpolation Between 8 points
</p>
</div>
<blockquote>
<p>What is Spline Interpolation?</p>
</blockquote>
<p>In a very hand wavy sense (complex math is involved), spline interpolation is an algorithm that draws the the straghtest line possible (technically, the least bendy line), given the frequency of the dataset, and the other points. It will draw a more natural, and curvier line than linear interpolation, and is often used in time series data</p>
<p>Before we can interpolate the NAs in our data, we must first change the data type</p>
</div>
<div id="converting-data-types-in-lists-of-lists" class="section level2">
<h2>Converting data types in lists of lists</h2>
<p>Currently, we have a list of data frames, which in its most primitive form can be described as a list of lists. We need to find a way to transform the proper columns of each nested list into a time series object.</p>
<div id="dealing-with-recursive-lists-pattern-1" class="section level3">
<h3>Dealing with recursive lists: Pattern 1</h3>
<p>When dealing with a recursive data structure, such as a list of lists or a list of data frames, we have a few very convenient patterns. The first one we already saw, <code>rapply</code>, which recursively applies a function to the deepest layer of our object. However, this does not preserve the structure of the data, unless we use the <code>how = 'replace'</code> argument, which is incredibly slow. So, we have a three step method to deal with this:</p>
<ol style="list-style-type: decimal">
<li><p>Write a function that works on an individual vector</p></li>
<li><p>Write a function that applies that function to a nested data frame or list</p></li>
<li><p>Write a function that applies the previous function over the entire list</p></li>
</ol>
<p>In our case, we will first write a function that converts a vector to a time series:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>toTs &lt;-<span class="st"> </span><span class="cf">function</span>(v) {</span>
<span id="cb4-2"><a href="#cb4-2"></a>    <span class="kw">ts</span>(v, <span class="dt">frequency =</span> <span class="dv">365</span> <span class="op">*</span><span class="st"> </span><span class="dv">24</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a>}</span></code></pre></div>
<p>Then, we will write a function that works over the whole nested data frame. In our case, we also need to not convert some of our columns into time series format, such as the categorical variables and variables describing the date</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>noConvert &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;No&quot;</span>, <span class="st">&quot;year&quot;</span>, <span class="st">&quot;month&quot;</span>, <span class="st">&quot;day&quot;</span>, <span class="st">&quot;hour&quot;</span>, <span class="st">&quot;season&quot;</span>, <span class="st">&quot;cbwd&quot;</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a>dfToTs &lt;-<span class="st"> </span><span class="cf">function</span>(df, <span class="dt">ignore =</span> noConvert) {</span>
<span id="cb5-3"><a href="#cb5-3"></a>    dfNames &lt;-<span class="st"> </span><span class="kw">colnames</span>(df)</span>
<span id="cb5-4"><a href="#cb5-4"></a>    result &lt;-<span class="st"> </span>(df)</span>
<span id="cb5-5"><a href="#cb5-5"></a>    <span class="cf">for</span> (name <span class="cf">in</span> dfNames) {</span>
<span id="cb5-6"><a href="#cb5-6"></a>        <span class="cf">if</span> (name <span class="op">%in%</span><span class="st"> </span>ignore) {</span>
<span id="cb5-7"><a href="#cb5-7"></a>            result[[name]] &lt;-<span class="st"> </span>result[[name]]</span>
<span id="cb5-8"><a href="#cb5-8"></a>        } <span class="cf">else</span> {</span>
<span id="cb5-9"><a href="#cb5-9"></a>            result[[name]] &lt;-<span class="st"> </span><span class="kw">toTs</span>(result[[name]])</span>
<span id="cb5-10"><a href="#cb5-10"></a>        }</span>
<span id="cb5-11"><a href="#cb5-11"></a>    }</span>
<span id="cb5-12"><a href="#cb5-12"></a>    <span class="co"># return the created list</span></span>
<span id="cb5-13"><a href="#cb5-13"></a>    <span class="kw">return</span>(result)  <span class="co"># its a list dont be tricked</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>}</span></code></pre></div>
<p>Then we scale it up</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>allToTs &lt;-<span class="st"> </span><span class="cf">function</span>(xs) {</span>
<span id="cb6-2"><a href="#cb6-2"></a>    <span class="kw">lapply</span>(xs, dfToTs)</span>
<span id="cb6-3"><a href="#cb6-3"></a>}</span>
<span id="cb6-4"><a href="#cb6-4"></a></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co"># To check import(&#39;data/&#39;) %&gt;&gt;% allToTs %&gt;&gt;% str</span></span></code></pre></div>
<p>Now that we have the proper data types, we can interpolate our NA’s</p>
</div>
</div>
<div id="interpolating-nas-over-a-data-structure-using-the-try-type-pattern" class="section level2">
<h2>Interpolating NAs Over a Data Structure using the Try-Type Pattern</h2>
<p>Instead of dealing with a function that uses column names, we can use the basic error checking pattern in R to quickly impute only time series data. The pattern is (in pseudo code) as follows: <code>x &lt;- try(expression); if(is.myClass(x) do something, else do something else)</code>. As an example:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>x &lt;-<span class="st"> </span><span class="kw">try</span>(<span class="kw">sum</span>(<span class="kw">c</span>(<span class="st">&quot;cat&quot;</span>, <span class="st">&quot;dog&quot;</span>, <span class="st">&quot;mouse&quot;</span>)))</span></code></pre></div>
<pre><code>#&gt; Error in sum(c(&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;)) : 
#&gt;   invalid &#39;type&#39; (character) of argument</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>x</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Error in sum(c(\&quot;cat\&quot;, \&quot;dog\&quot;, \&quot;mouse\&quot;)) : \n  invalid &#39;type&#39; (character) of argument\n&quot;
#&gt; attr(,&quot;class&quot;)
#&gt; [1] &quot;try-error&quot;
#&gt; attr(,&quot;condition&quot;)
#&gt; &lt;simpleError in sum(c(&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;)): invalid &#39;type&#39; (character) of argument&gt;</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">class</span>(x)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;try-error&quot;</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>y &lt;-<span class="st"> </span><span class="kw">try</span>(<span class="kw">sum</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>))</span>
<span id="cb13-2"><a href="#cb13-2"></a>y</span></code></pre></div>
<pre><code>#&gt; [1] 10</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">class</span>(y)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;integer&quot;</code></pre>
<p>We see that the class of the object changes depending on whether or not our code fails. For our problem, that would be (in the case of a vector)</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">library</span>(imputeTS)</span>
<span id="cb17-2"><a href="#cb17-2"></a>tryImpute &lt;-<span class="st"> </span><span class="cf">function</span>(vec) {</span>
<span id="cb17-3"><a href="#cb17-3"></a>    result &lt;-<span class="st"> </span><span class="kw">try</span>(<span class="kw">na.interpolation</span>(vec, <span class="st">&quot;spline&quot;</span>))</span>
<span id="cb17-4"><a href="#cb17-4"></a>    <span class="kw">ifelse</span>(<span class="kw">is.ts</span>(result), <span class="kw">return</span>(result), <span class="kw">return</span>(vec))</span>
<span id="cb17-5"><a href="#cb17-5"></a>}</span></code></pre></div>
<p>If our imputation works, we return the result of it, otherwise we return the original vector. Our next step is to run it over an entire data frame, preferably in parallel, so it can be fast:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">library</span>(parallel)</span>
<span id="cb18-2"><a href="#cb18-2"></a>cores &lt;-<span class="st"> </span><span class="kw">detectCores</span>() <span class="op">-</span><span class="st"> </span><span class="dv">1</span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="co">## [1] 11</span></span>
<span id="cb18-4"><a href="#cb18-4"></a></span>
<span id="cb18-5"><a href="#cb18-5"></a>imputeDf &lt;-<span class="st"> </span><span class="cf">function</span>(df) {</span>
<span id="cb18-6"><a href="#cb18-6"></a>    result &lt;-<span class="st"> </span><span class="kw">mclapply</span>(df, tryImpute, <span class="dt">mc.cores =</span> <span class="dv">11</span>)</span>
<span id="cb18-7"><a href="#cb18-7"></a>    <span class="kw">return</span>(<span class="kw">as.data.frame</span>(result))</span>
<span id="cb18-8"><a href="#cb18-8"></a>}</span>
<span id="cb18-9"><a href="#cb18-9"></a></span>
<span id="cb18-10"><a href="#cb18-10"></a><span class="kw">import</span>(<span class="st">&quot;data/&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>allToTs <span class="op">%&gt;%</span><span class="st"> </span>.[[<span class="dv">1</span>]] <span class="op">%&gt;%</span><span class="st"> </span>imputeDf <span class="op">%&gt;%</span><span class="st"> </span>head</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["No"],"name":[1],"type":["int"],"align":["right"]},{"label":["year"],"name":[2],"type":["int"],"align":["right"]},{"label":["month"],"name":[3],"type":["int"],"align":["right"]},{"label":["day"],"name":[4],"type":["int"],"align":["right"]},{"label":["hour"],"name":[5],"type":["int"],"align":["right"]},{"label":["season"],"name":[6],"type":["int"],"align":["right"]},{"label":["PM_Dongsi"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["PM_Dongsihuan"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["PM_Nongzhanguan"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["PM_US.Post"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["DEWP"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["HUMI"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["PRES"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["TEMP"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["cbwd"],"name":[15],"type":["fctr"],"align":["left"]},{"label":["Iws"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["precipitation"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["Iprec"],"name":[18],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"2010","3":"1","4":"1","5":"0","6":"4","7":"25.00000","8":"166.0000","9":"20.00000","10":"129.0000","11":"-21","12":"43","13":"1021","14":"-11","15":"NW","16":"1.79","17":"0","18":"0","_rn_":"1"},{"1":"2","2":"2010","3":"1","4":"1","5":"1","6":"4","7":"23.80738","8":"163.8921","9":"18.35142","10":"147.9966","11":"-21","12":"47","13":"1020","14":"-12","15":"NW","16":"4.92","17":"0","18":"0","_rn_":"2"},{"1":"3","2":"2010","3":"1","4":"1","5":"2","6":"4","7":"22.05703","8":"164.7319","9":"19.91645","10":"158.9778","11":"-21","12":"43","13":"1019","14":"-11","15":"NW","16":"6.71","17":"0","18":"0","_rn_":"3"},{"1":"4","2":"2010","3":"1","4":"1","5":"3","6":"4","7":"20.42839","8":"167.6800","9":"23.18082","10":"181.0133","11":"-21","12":"55","13":"1019","14":"-14","15":"NW","16":"9.84","17":"0","18":"0","_rn_":"4"},{"1":"5","2":"2010","3":"1","4":"1","5":"4","6":"4","7":"19.96435","8":"171.8709","9":"26.79303","10":"138.0830","11":"-20","12":"51","13":"1018","14":"-12","15":"NW","16":"12.97","17":"0","18":"0","_rn_":"5"},{"1":"6","2":"2010","3":"1","4":"1","5":"5","6":"4","7":"21.43250","8":"176.4437","9":"29.27828","10":"109.0356","11":"-19","12":"47","13":"1017","14":"-10","15":"NW","16":"16.10","17":"0","18":"0","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>It works. Now lets follow our pattern and run that over the entire list:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>imputeAll &lt;-<span class="st"> </span><span class="cf">function</span>(xs) {</span>
<span id="cb19-2"><a href="#cb19-2"></a>    <span class="kw">lapply</span>(xs, imputeDf)</span>
<span id="cb19-3"><a href="#cb19-3"></a>}</span>
<span id="cb19-4"><a href="#cb19-4"></a></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="co">## str(imputeAll(allToTs(import(&#39;data/&#39;))))</span></span></code></pre></div>
</div>
</div>
<div id="converting-to-a-convenient-data-structure" class="section level1">
<h1>Converting to a Convenient Data Structure</h1>
<p>As we will be passing this information into a lot of other documents and scripts, and growing and manipulating it frequently, we would like to put it into a convenient data structure, that is scalable, extensible, and fast. That structure is an associative array, or a hash table, the swiss army knife data structure of data science. We will use it to store <em>all</em> models created, variations of our dataset, and anything else, and pass this between files. For analysis on the speed and power of the hash table, please refer to <a href="https://blog.dominodatalab.com/a-quick-benchmark-of-hashtable-implementations-in-r/">this link</a>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>toHash &lt;-<span class="st"> </span><span class="cf">function</span>(xs) {</span>
<span id="cb20-2"><a href="#cb20-2"></a>    <span class="kw">list2env</span>(<span class="dt">x =</span> xs, <span class="dt">hash =</span> <span class="ot">TRUE</span>, <span class="dt">envir =</span> <span class="ot">NULL</span>)</span>
<span id="cb20-3"><a href="#cb20-3"></a>}</span></code></pre></div>
</div>
<div id="chaining-it-all-together" class="section level1">
<h1>Chaining it All Together</h1>
<p>We have done a lot of work, and put together a nice little pipeline. Now, if we are going to be calling these functions a lot, it is not super convenient or efficient to chain them together with <code>%&gt;%</code> or <code>%&gt;&gt;%</code> pipes. Instead, we will make a <strong><em>composition of functions</em></strong>. If we have three functions, <span class="math inline">\(f(x)\)</span>, <span class="math inline">\(g(x)\)</span>, and <span class="math inline">\(h(x)\)</span>, a composition of the three would be <span class="math inline">\(f(g(h(x)))\)</span>. We will do the same using the <code>functional</code> library:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="kw">library</span>(functional)</span>
<span id="cb21-2"><a href="#cb21-2"></a>preprocess &lt;-<span class="st"> </span><span class="kw">Compose</span>(import, allToTs, imputeAll, toHash)</span>
<span id="cb21-3"><a href="#cb21-3"></a>preprocess</span></code></pre></div>
<pre><code>#&gt; function (...) 
#&gt; Reduce(function(x, f) f(x), fs, ...)
#&gt; &lt;bytecode: 0x113619b8&gt;
#&gt; &lt;environment: 0x113627b8&gt;</code></pre>
<p>We now have a function that imports a directory of csv’s, converts the proper items to time series objects, spline interpolates the NAs, and converts to a hash table:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>china &lt;-<span class="st"> </span><span class="kw">preprocess</span>(<span class="st">&quot;data/&quot;</span>)</span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="kw">str</span>(china)</span></code></pre></div>
<pre><code>#&gt; &lt;environment: 0x10d86db8&gt;</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="kw">head</span>(china<span class="op">$</span>BeijingPM_, <span class="dv">100</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["No"],"name":[1],"type":["int"],"align":["right"]},{"label":["year"],"name":[2],"type":["int"],"align":["right"]},{"label":["month"],"name":[3],"type":["int"],"align":["right"]},{"label":["day"],"name":[4],"type":["int"],"align":["right"]},{"label":["hour"],"name":[5],"type":["int"],"align":["right"]},{"label":["season"],"name":[6],"type":["int"],"align":["right"]},{"label":["PM_Dongsi"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["PM_Dongsihuan"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["PM_Nongzhanguan"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["PM_US.Post"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["DEWP"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["HUMI"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["PRES"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["TEMP"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["cbwd"],"name":[15],"type":["fctr"],"align":["left"]},{"label":["Iws"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["precipitation"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["Iprec"],"name":[18],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"2010","3":"1","4":"1","5":"0","6":"4","7":"25.00000","8":"166.0000","9":"20.00000","10":"129.0000","11":"-21","12":"43.0","13":"1021","14":"-11","15":"NW","16":"1.79","17":"0.0","18":"0.0","_rn_":"1"},{"1":"2","2":"2010","3":"1","4":"1","5":"1","6":"4","7":"23.80738","8":"163.8921","9":"18.35142","10":"147.9966","11":"-21","12":"47.0","13":"1020","14":"-12","15":"NW","16":"4.92","17":"0.0","18":"0.0","_rn_":"2"},{"1":"3","2":"2010","3":"1","4":"1","5":"2","6":"4","7":"22.05703","8":"164.7319","9":"19.91645","10":"158.9778","11":"-21","12":"43.0","13":"1019","14":"-11","15":"NW","16":"6.71","17":"0.0","18":"0.0","_rn_":"3"},{"1":"4","2":"2010","3":"1","4":"1","5":"3","6":"4","7":"20.42839","8":"167.6800","9":"23.18082","10":"181.0133","11":"-21","12":"55.0","13":"1019","14":"-14","15":"NW","16":"9.84","17":"0.0","18":"0.0","_rn_":"4"},{"1":"5","2":"2010","3":"1","4":"1","5":"4","6":"4","7":"19.96435","8":"171.8709","9":"26.79303","10":"138.0830","11":"-20","12":"51.0","13":"1018","14":"-12","15":"NW","16":"12.97","17":"0.0","18":"0.0","_rn_":"5"},{"1":"6","2":"2010","3":"1","4":"1","5":"5","6":"4","7":"21.43250","8":"176.4437","9":"29.27828","10":"109.0356","11":"-19","12":"47.0","13":"1017","14":"-10","15":"NW","16":"16.10","17":"0.0","18":"0.0","_rn_":"6"},{"1":"7","2":"2010","3":"1","4":"1","5":"6","6":"4","7":"23.79061","8":"180.6601","9":"28.35140","10":"104.9650","11":"-19","12":"44.0","13":"1017","14":"-9","15":"NW","16":"19.23","17":"0.0","18":"0.0","_rn_":"7"},{"1":"8","2":"2010","3":"1","4":"1","5":"7","6":"4","7":"25.67263","8":"183.7610","9":"22.50424","10":"123.9764","11":"-19","12":"44.0","13":"1017","14":"-9","15":"NW","16":"21.02","17":"0.0","18":"0.0","_rn_":"8"},{"1":"9","2":"2010","3":"1","4":"1","5":"8","6":"4","7":"26.88593","8":"183.8734","9":"15.64371","10":"119.9962","11":"-19","12":"44.0","13":"1017","14":"-9","15":"NW","16":"24.15","17":"0.0","18":"0.0","_rn_":"9"},{"1":"10","2":"2010","3":"1","4":"1","5":"9","6":"4","7":"27.69376","8":"178.5760","9":"12.88500","10":"131.9534","11":"-20","12":"37.0","13":"1017","14":"-8","15":"NW","16":"27.28","17":"0.0","18":"0.0","_rn_":"10"},{"1":"11","2":"2010","3":"1","4":"1","5":"10","6":"4","7":"28.75864","8":"171.0229","9":"15.96173","10":"139.9491","11":"-19","12":"37.0","13":"1017","14":"-7","15":"NW","16":"31.30","17":"0.0","18":"0.0","_rn_":"11"},{"1":"12","2":"2010","3":"1","4":"1","5":"11","6":"4","7":"30.53512","8":"169.7410","9":"24.34287","10":"151.9926","11":"-18","12":"35.0","13":"1017","14":"-5","15":"NW","16":"34.43","17":"0.0","18":"0.0","_rn_":"12"},{"1":"13","2":"2010","3":"1","4":"1","5":"12","6":"4","7":"31.21378","8":"176.7227","9":"30.80354","10":"147.9664","11":"-19","12":"32.0","13":"1015","14":"-5","15":"NW","16":"37.56","17":"0.0","18":"0.0","_rn_":"13"},{"1":"14","2":"2010","3":"1","4":"1","5":"13","6":"4","7":"28.84477","8":"184.7406","9":"27.34865","10":"163.9514","11":"-18","12":"30.0","13":"1015","14":"-3","15":"NW","16":"40.69","17":"0.0","18":"0.0","_rn_":"14"},{"1":"15","2":"2010","3":"1","4":"1","5":"14","6":"4","7":"26.83078","8":"189.9171","9":"19.28578","10":"158.0623","11":"-18","12":"28.0","13":"1014","14":"-2","15":"NW","16":"43.82","17":"0.0","18":"0.0","_rn_":"15"},{"1":"16","2":"2010","3":"1","4":"1","5":"15","6":"4","7":"30.07862","8":"196.0287","9":"16.67109","10":"153.9861","11":"-18","12":"26.0","13":"1014","14":"-1","15":"cv","16":"0.89","17":"0.0","18":"0.0","_rn_":"16"},{"1":"17","2":"2010","3":"1","4":"1","5":"16","6":"4","7":"37.15521","8":"205.0902","9":"21.72034","10":"158.9681","11":"-19","12":"25.0","13":"1015","14":"-2","15":"NW","16":"1.79","17":"0.0","18":"0.0","_rn_":"17"},{"1":"18","2":"2010","3":"1","4":"1","5":"17","6":"4","7":"44.08966","8":"212.0344","9":"32.64318","10":"163.9281","11":"-18","12":"30.0","13":"1015","14":"-3","15":"NW","16":"2.68","17":"0.0","18":"0.0","_rn_":"18"},{"1":"19","2":"2010","3":"1","4":"1","5":"18","6":"4","7":"50.85720","8":"212.2717","9":"45.03950","10":"170.0808","11":"-18","12":"35.0","13":"1016","14":"-5","15":"NE","16":"1.79","17":"0.0","18":"0.0","_rn_":"19"},{"1":"20","2":"2010","3":"1","4":"1","5":"19","6":"4","7":"59.11659","8":"207.6809","9":"53.81031","10":"149.1081","11":"-17","12":"35.0","13":"1017","14":"-4","15":"NW","16":"1.79","17":"0.0","18":"0.0","_rn_":"20"},{"1":"21","2":"2010","3":"1","4":"1","5":"20","6":"4","7":"67.12777","8":"201.7448","9":"59.93914","10":"153.8806","11":"-17","12":"38.0","13":"1017","14":"-5","15":"cv","16":"0.89","17":"0.0","18":"0.0","_rn_":"21"},{"1":"22","2":"2010","3":"1","4":"1","5":"21","6":"4","7":"71.62082","8":"198.1157","9":"67.27809","10":"163.9697","11":"-17","12":"38.0","13":"1018","14":"-5","15":"NW","16":"1.79","17":"0.0","18":"0.0","_rn_":"22"},{"1":"23","2":"2010","3":"1","4":"1","5":"22","6":"4","7":"73.41267","8":"200.3143","9":"73.88671","10":"156.1957","11":"-17","12":"38.0","13":"1018","14":"-5","15":"NW","16":"2.68","17":"0.0","18":"0.0","_rn_":"23"},{"1":"24","2":"2010","3":"1","4":"1","5":"23","6":"4","7":"75.57459","8":"210.2602","9":"74.76578","10":"129.0000","11":"-17","12":"41.0","13":"1020","14":"-5","15":"cv","16":"0.89","17":"0.0","18":"0.0","_rn_":"24"},{"1":"25","2":"2010","3":"1","4":"2","5":"0","6":"4","7":"78.24242","8":"228.5380","9":"70.77647","10":"148.0000","11":"-16","12":"38.0","13":"1020","14":"-4","15":"SE","16":"1.79","17":"0.0","18":"0.0","_rn_":"25"},{"1":"26","2":"2010","3":"1","4":"2","5":"1","6":"4","7":"79.82986","8":"248.7867","9":"66.66023","10":"159.0000","11":"-15","12":"42.0","13":"1020","14":"-4","15":"SE","16":"2.68","17":"0.0","18":"0.0","_rn_":"26"},{"1":"27","2":"2010","3":"1","4":"2","5":"2","6":"4","7":"82.01867","8":"260.2774","9":"66.80042","10":"181.0000","11":"-11","12":"63.5","13":"1021","14":"-5","15":"SE","16":"3.57","17":"0.0","18":"0.0","_rn_":"27"},{"1":"28","2":"2010","3":"1","4":"2","5":"3","6":"4","7":"88.68741","8":"262.3919","9":"75.11766","10":"138.0000","11":"-7","12":"85.0","13":"1022","14":"-5","15":"SE","16":"5.36","17":"0.0","18":"0.0","_rn_":"28"},{"1":"29","2":"2010","3":"1","4":"2","5":"4","6":"4","7":"101.04886","8":"264.2034","9":"93.15585","10":"109.0000","11":"-7","12":"85.0","13":"1022","14":"-5","15":"SE","16":"6.25","17":"0.0","18":"0.0","_rn_":"29"},{"1":"30","2":"2010","3":"1","4":"2","5":"5","6":"4","7":"118.17315","8":"268.3095","9":"120.28432","10":"105.0000","11":"-7","12":"92.0","13":"1022","14":"-6","15":"SE","16":"7.14","17":"0.0","18":"0.0","_rn_":"30"},{"1":"31","2":"2010","3":"1","4":"2","5":"6","6":"4","7":"138.70303","8":"268.1804","9":"150.18682","10":"124.0000","11":"-7","12":"92.0","13":"1023","14":"-6","15":"SE","16":"8.93","17":"0.0","18":"0.0","_rn_":"31"},{"1":"32","2":"2010","3":"1","4":"2","5":"7","6":"4","7":"160.86055","8":"262.4116","9":"172.18713","10":"120.0000","11":"-7","12":"85.0","13":"1024","14":"-5","15":"SE","16":"10.72","17":"0.0","18":"0.0","_rn_":"32"},{"1":"33","2":"2010","3":"1","4":"2","5":"8","6":"4","7":"180.74549","8":"260.3106","9":"183.67662","10":"132.0000","11":"-8","12":"85.0","13":"1024","14":"-6","15":"SE","16":"12.51","17":"0.0","18":"0.0","_rn_":"33"},{"1":"34","2":"2010","3":"1","4":"2","5":"9","6":"4","7":"192.90197","8":"265.8460","9":"189.60191","10":"140.0000","11":"-7","12":"85.0","13":"1025","14":"-5","15":"SE","16":"14.30","17":"0.0","18":"0.0","_rn_":"34"},{"1":"35","2":"2010","3":"1","4":"2","5":"10","6":"4","7":"200.61378","8":"265.8589","9":"195.26590","10":"152.0000","11":"-7","12":"85.0","13":"1026","14":"-5","15":"SE","16":"17.43","17":"0.0","18":"0.0","_rn_":"35"},{"1":"36","2":"2010","3":"1","4":"2","5":"11","6":"4","7":"215.43177","8":"249.9699","9":"205.83776","10":"148.0000","11":"-8","12":"79.0","13":"1026","14":"-5","15":"SE","16":"20.56","17":"0.0","18":"0.0","_rn_":"36"},{"1":"37","2":"2010","3":"1","4":"2","5":"12","6":"4","7":"235.55767","8":"228.8912","9":"220.92828","10":"164.0000","11":"-8","12":"79.0","13":"1026","14":"-5","15":"SE","16":"23.69","17":"0.0","18":"0.0","_rn_":"37"},{"1":"38","2":"2010","3":"1","4":"2","5":"13","6":"4","7":"244.72230","8":"216.0223","9":"234.16793","10":"158.0000","11":"-8","12":"79.0","13":"1025","14":"-5","15":"SE","16":"27.71","17":"0.0","18":"0.0","_rn_":"38"},{"1":"39","2":"2010","3":"1","4":"2","5":"14","6":"4","7":"237.57767","8":"212.0438","9":"239.92390","10":"154.0000","11":"-9","12":"73.0","13":"1025","14":"-5","15":"SE","16":"31.73","17":"0.0","18":"0.0","_rn_":"39"},{"1":"40","2":"2010","3":"1","4":"2","5":"15","6":"4","7":"222.29811","8":"213.0560","9":"233.85776","10":"159.0000","11":"-9","12":"73.0","13":"1025","14":"-5","15":"SE","16":"35.75","17":"0.0","18":"0.0","_rn_":"40"},{"1":"41","2":"2010","3":"1","4":"2","5":"16","6":"4","7":"202.02356","8":"213.3260","9":"214.62240","10":"164.0000","11":"-9","12":"73.0","13":"1026","14":"-5","15":"SE","16":"37.54","17":"0.0","18":"0.0","_rn_":"41"},{"1":"42","2":"2010","3":"1","4":"2","5":"17","6":"4","7":"172.75625","8":"207.0136","9":"184.81843","10":"170.0000","11":"-8","12":"79.0","13":"1027","14":"-5","15":"SE","16":"39.33","17":"0.0","18":"0.0","_rn_":"42"},{"1":"43","2":"2010","3":"1","4":"2","5":"18","6":"4","7":"141.84542","8":"198.0880","9":"157.52474","10":"149.0000","11":"-8","12":"79.0","13":"1027","14":"-5","15":"SE","16":"42.46","17":"0.0","18":"0.0","_rn_":"43"},{"1":"44","2":"2010","3":"1","4":"2","5":"19","6":"4","7":"132.57982","8":"196.6902","9":"159.46077","10":"154.0000","11":"-8","12":"79.0","13":"1028","14":"-5","15":"SE","16":"44.25","17":"0.0","18":"0.0","_rn_":"44"},{"1":"45","2":"2010","3":"1","4":"2","5":"20","6":"4","7":"147.17752","8":"202.4358","9":"190.47344","10":"164.0000","11":"-7","12":"85.0","13":"1028","14":"-5","15":"SE","16":"46.04","17":"0.0","18":"0.0","_rn_":"45"},{"1":"46","2":"2010","3":"1","4":"2","5":"21","6":"4","7":"154.74861","8":"205.0851","9":"208.89667","10":"156.0000","11":"-7","12":"85.0","13":"1027","14":"-5","15":"SE","16":"49.17","17":"0.0","18":"0.0","_rn_":"46"},{"1":"47","2":"2010","3":"1","4":"2","5":"22","6":"4","7":"143.51135","8":"201.5732","9":"195.78903","10":"126.0000","11":"-8","12":"85.0","13":"1028","14":"-6","15":"SE","16":"52.30","17":"0.0","18":"0.0","_rn_":"47"},{"1":"48","2":"2010","3":"1","4":"2","5":"23","6":"4","7":"137.15517","8":"198.6661","9":"174.78110","10":"90.0000","11":"-8","12":"85.0","13":"1027","14":"-6","15":"SE","16":"55.43","17":"0.0","18":"0.0","_rn_":"48"},{"1":"49","2":"2010","3":"1","4":"3","5":"0","6":"4","7":"145.45745","8":"200.1973","9":"161.89319","10":"63.0000","11":"-7","12":"92.0","13":"1027","14":"-6","15":"SE","16":"58.56","17":"0.4","18":"0.4","_rn_":"49"},{"1":"50","2":"2010","3":"1","4":"3","5":"1","6":"4","7":"147.76503","8":"203.4725","9":"152.65933","10":"65.0000","11":"-8","12":"85.0","13":"1026","14":"-6","15":"SE","16":"61.69","17":"0.5","18":"0.9","_rn_":"50"},{"1":"51","2":"2010","3":"1","4":"3","5":"2","6":"4","7":"131.11869","8":"205.4388","9":"140.78565","10":"55.0000","11":"-8","12":"92.0","13":"1026","14":"-7","15":"SE","16":"65.71","17":"0.5","18":"1.4","_rn_":"51"},{"1":"52","2":"2010","3":"1","4":"3","5":"3","6":"4","7":"103.48780","8":"203.8947","9":"120.55969","10":"65.0000","11":"-8","12":"92.0","13":"1025","14":"-7","15":"SE","16":"68.84","17":"0.7","18":"2.1","_rn_":"52"},{"1":"53","2":"2010","3":"1","4":"3","5":"4","6":"4","7":"75.66179","8":"198.0061","9":"93.95246","10":"83.0000","11":"-8","12":"92.0","13":"1024","14":"-7","15":"SE","16":"72.86","17":"1.2","18":"3.3","_rn_":"53"},{"1":"54","2":"2010","3":"1","4":"3","5":"5","6":"4","7":"59.31185","8":"191.4884","9":"78.93965","10":"91.0000","11":"-9","12":"92.0","13":"1024","14":"-8","15":"SE","16":"76.88","17":"0.7","18":"4.0","_rn_":"54"},{"1":"55","2":"2010","3":"1","4":"3","5":"6","6":"4","7":"60.10946","8":"188.1273","9":"83.85175","10":"86.0000","11":"-10","12":"85.0","13":"1024","14":"-8","15":"SE","16":"80.90","17":"1.0","18":"5.0","_rn_":"55"},{"1":"56","2":"2010","3":"1","4":"3","5":"7","6":"4","7":"69.67998","8":"186.4604","9":"90.21066","10":"82.0000","11":"-10","12":"92.0","13":"1024","14":"-9","15":"SE","16":"84.92","17":"0.7","18":"5.7","_rn_":"56"},{"1":"57","2":"2010","3":"1","4":"3","5":"8","6":"4","7":"79.28800","8":"183.7710","9":"84.66975","10":"86.0000","11":"-10","12":"92.0","13":"1024","14":"-9","15":"SE","16":"89.84","17":"0.5","18":"6.2","_rn_":"57"},{"1":"58","2":"2010","3":"1","4":"3","5":"9","6":"4","7":"84.23197","8":"181.2655","9":"76.18288","10":"78.0000","11":"-11","12":"85.0","13":"1023","14":"-9","15":"SE","16":"93.86","17":"0.7","18":"6.9","_rn_":"58"},{"1":"59","2":"2010","3":"1","4":"3","5":"10","6":"4","7":"83.48516","8":"182.0003","9":"73.65971","10":"98.0000","11":"-11","12":"85.0","13":"1023","14":"-9","15":"SE","16":"97.88","17":"0.4","18":"7.3","_rn_":"59"},{"1":"60","2":"2010","3":"1","4":"3","5":"11","6":"4","7":"84.39905","8":"188.8756","9":"76.43260","10":"107.0000","11":"-11","12":"85.0","13":"1022","14":"-9","15":"SE","16":"102.80","17":"0.5","18":"7.8","_rn_":"60"},{"1":"61","2":"2010","3":"1","4":"3","5":"12","6":"4","7":"91.42488","8":"204.3635","9":"82.00350","10":"90.0000","11":"-11","12":"85.0","13":"1021","14":"-9","15":"SE","16":"105.93","17":"1.1","18":"8.9","_rn_":"61"},{"1":"62","2":"2010","3":"1","4":"3","5":"13","6":"4","7":"96.00928","8":"224.6389","9":"87.26959","10":"96.0000","11":"-11","12":"85.0","13":"1020","14":"-9","15":"SE","16":"111.74","17":"0.5","18":"9.4","_rn_":"62"},{"1":"63","2":"2010","3":"1","4":"3","5":"14","6":"4","7":"91.83907","8":"240.2320","9":"90.83845","10":"95.0000","11":"-11","12":"85.0","13":"1020","14":"-9","15":"SE","16":"116.66","17":"0.3","18":"9.7","_rn_":"63"},{"1":"64","2":"2010","3":"1","4":"3","5":"15","6":"4","7":"88.00731","8":"247.2728","9":"97.32814","10":"86.0000","11":"-11","12":"85.0","13":"1020","14":"-9","15":"SE","16":"121.58","17":"0.5","18":"10.2","_rn_":"64"},{"1":"65","2":"2010","3":"1","4":"3","5":"16","6":"4","7":"98.97906","8":"249.2907","9":"110.56502","10":"70.0000","11":"-11","12":"85.0","13":"1020","14":"-9","15":"SE","16":"124.71","17":"0.2","18":"10.4","_rn_":"65"},{"1":"66","2":"2010","3":"1","4":"3","5":"17","6":"4","7":"147.18498","8":"249.5854","9":"127.04048","10":"61.0000","11":"-11","12":"85.0","13":"1020","14":"-9","15":"SE","16":"127.84","17":"0.1","18":"10.5","_rn_":"66"},{"1":"67","2":"2010","3":"1","4":"3","5":"18","6":"4","7":"243.35075","8":"250.1946","9":"148.90972","10":"53.0000","11":"-11","12":"85.0","13":"1021","14":"-9","15":"cv","16":"0.89","17":"0.4","18":"10.9","_rn_":"67"},{"1":"68","2":"2010","3":"1","4":"3","5":"19","6":"4","7":"344.58092","8":"251.7895","9":"207.39710","10":"71.0000","11":"-11","12":"85.0","13":"1022","14":"-9","15":"cv","16":"1.78","17":"0.3","18":"11.2","_rn_":"68"},{"1":"69","2":"2010","3":"1","4":"3","5":"20","6":"4","7":"402.39718","8":"251.9481","9":"319.15723","10":"72.0000","11":"-10","12":"92.0","13":"1022","14":"-9","15":"NW","16":"4.02","17":"0.0","18":"0.0","_rn_":"69"},{"1":"70","2":"2010","3":"1","4":"3","5":"21","6":"4","7":"401.99406","8":"248.7102","9":"405.87265","10":"76.0000","11":"-11","12":"92.0","13":"1023","14":"-10","15":"NW","16":"7.15","17":"0.0","18":"0.0","_rn_":"70"},{"1":"71","2":"2010","3":"1","4":"3","5":"22","6":"4","7":"348.13366","8":"243.4832","9":"390.41270","10":"73.0000","11":"-11","12":"85.0","13":"1023","14":"-9","15":"NW","16":"11.17","17":"0.0","18":"0.0","_rn_":"71"},{"1":"72","2":"2010","3":"1","4":"3","5":"23","6":"4","7":"295.34933","8":"238.4585","9":"325.24449","10":"79.0000","11":"-12","12":"92.0","13":"1023","14":"-11","15":"NW","16":"14.30","17":"0.0","18":"0.0","_rn_":"72"},{"1":"73","2":"2010","3":"1","4":"4","5":"0","6":"4","7":"298.81605","8":"235.9743","9":"289.17108","10":"58.0000","11":"-14","12":"85.0","13":"1023","14":"-12","15":"NW","16":"16.09","17":"0.0","18":"0.0","_rn_":"73"},{"1":"74","2":"2010","3":"1","4":"4","5":"1","6":"4","7":"338.76602","8":"237.9309","9":"295.67090","10":"25.0000","11":"-16","12":"56.0","13":"1023","14":"-9","15":"NW","16":"21.90","17":"0.0","18":"0.0","_rn_":"74"},{"1":"75","2":"2010","3":"1","4":"4","5":"2","6":"4","7":"376.65436","8":"242.5002","9":"334.47412","10":"26.0000","11":"-17","12":"56.0","13":"1024","14":"-10","15":"NW","16":"29.95","17":"0.0","18":"0.0","_rn_":"75"},{"1":"76","2":"2010","3":"1","4":"4","5":"3","6":"4","7":"407.45684","8":"246.2689","9":"381.80322","10":"28.0000","11":"-18","12":"56.0","13":"1024","14":"-11","15":"NW","16":"39.78","17":"0.0","18":"0.0","_rn_":"76"},{"1":"77","2":"2010","3":"1","4":"4","5":"4","6":"4","7":"436.94712","8":"247.4837","9":"413.38220","10":"26.0000","11":"-19","12":"51.0","13":"1025","14":"-11","15":"NW","16":"48.72","17":"0.0","18":"0.0","_rn_":"77"},{"1":"78","2":"2010","3":"1","4":"4","5":"5","6":"4","7":"462.98842","8":"245.5719","9":"432.64995","10":"20.0000","11":"-20","12":"51.0","13":"1026","14":"-12","15":"NW","16":"55.87","17":"0.0","18":"0.0","_rn_":"78"},{"1":"79","2":"2010","3":"1","4":"4","5":"6","6":"4","7":"480.85428","8":"241.8388","9":"452.35645","10":"29.0000","11":"-21","12":"47.0","13":"1027","14":"-12","15":"NW","16":"64.81","17":"0.0","18":"0.0","_rn_":"79"},{"1":"80","2":"2010","3":"1","4":"4","5":"7","6":"4","7":"489.49415","8":"239.2005","9":"474.18119","10":"26.0000","11":"-21","12":"51.0","13":"1027","14":"-13","15":"NW","16":"73.75","17":"0.0","18":"0.0","_rn_":"80"},{"1":"81","2":"2010","3":"1","4":"4","5":"8","6":"4","7":"489.43821","8":"238.4440","9":"495.04151","10":"27.0000","11":"-22","12":"46.0","13":"1028","14":"-13","15":"NW","16":"80.90","17":"0.0","18":"0.0","_rn_":"81"},{"1":"82","2":"2010","3":"1","4":"4","5":"9","6":"4","7":"481.22272","8":"237.6512","9":"511.83648","10":"27.0000","11":"-22","12":"46.0","13":"1029","14":"-13","15":"NW","16":"90.73","17":"0.0","18":"0.0","_rn_":"82"},{"1":"83","2":"2010","3":"1","4":"4","5":"10","6":"4","7":"466.20472","8":"236.2315","9":"522.00514","10":"25.0000","11":"-22","12":"43.0","13":"1030","14":"-12","15":"NW","16":"100.56","17":"0.0","18":"0.0","_rn_":"83"},{"1":"84","2":"2010","3":"1","4":"4","5":"11","6":"4","7":"452.81218","8":"236.1808","9":"527.63793","10":"29.0000","11":"-23","12":"39.0","13":"1031","14":"-12","15":"NW","16":"108.61","17":"0.0","18":"0.0","_rn_":"84"},{"1":"85","2":"2010","3":"1","4":"4","5":"12","6":"4","7":"450.28975","8":"238.3265","9":"532.26383","10":"32.0000","11":"-21","12":"43.0","13":"1030","14":"-11","15":"NW","16":"117.55","17":"0.0","18":"0.0","_rn_":"85"},{"1":"86","2":"2010","3":"1","4":"4","5":"13","6":"4","7":"441.17984","8":"240.0223","9":"530.47099","10":"28.0000","11":"-20","12":"43.0","13":"1030","14":"-10","15":"NW","16":"127.38","17":"0.0","18":"0.0","_rn_":"86"},{"1":"87","2":"2010","3":"1","4":"4","5":"14","6":"4","7":"397.40927","8":"239.8486","9":"511.93277","10":"29.0000","11":"-21","12":"40.0","13":"1030","14":"-10","15":"NW","16":"136.32","17":"0.0","18":"0.0","_rn_":"87"},{"1":"88","2":"2010","3":"1","4":"4","5":"15","6":"4","7":"336.02535","8":"242.4928","9":"466.97717","10":"30.0000","11":"-21","12":"37.0","13":"1030","14":"-9","15":"NW","16":"145.26","17":"0.0","18":"0.0","_rn_":"88"},{"1":"89","2":"2010","3":"1","4":"4","5":"16","6":"4","7":"297.91535","8":"252.0999","9":"388.76081","10":"30.0000","11":"-21","12":"37.0","13":"1031","14":"-9","15":"NW","16":"152.41","17":"0.0","18":"0.0","_rn_":"89"},{"1":"90","2":"2010","3":"1","4":"4","5":"17","6":"4","7":"282.02996","8":"263.2888","9":"299.08039","10":"28.0000","11":"-20","12":"47.0","13":"1032","14":"-11","15":"NW","16":"159.56","17":"0.0","18":"0.0","_rn_":"90"},{"1":"91","2":"2010","3":"1","4":"4","5":"18","6":"4","7":"261.52308","8":"269.6949","9":"236.01005","10":"26.0000","11":"-23","12":"36.0","13":"1032","14":"-11","15":"NW","16":"165.37","17":"0.0","18":"0.0","_rn_":"91"},{"1":"92","2":"2010","3":"1","4":"4","5":"19","6":"4","7":"236.22020","8":"280.1036","9":"203.79201","10":"31.0000","11":"-21","12":"47.0","13":"1033","14":"-12","15":"NW","16":"171.18","17":"0.0","18":"0.0","_rn_":"92"},{"1":"93","2":"2010","3":"1","4":"4","5":"20","6":"4","7":"223.91727","8":"308.0245","9":"183.46986","10":"33.0000","11":"-24","12":"36.0","13":"1034","14":"-12","15":"NW","16":"180.12","17":"0.0","18":"0.0","_rn_":"93"},{"1":"94","2":"2010","3":"1","4":"4","5":"21","6":"4","7":"221.23037","8":"342.8972","9":"173.73036","10":"29.0000","11":"-24","12":"39.0","13":"1034","14":"-13","15":"NW","16":"187.27","17":"0.0","18":"0.0","_rn_":"94"},{"1":"95","2":"2010","3":"1","4":"4","5":"22","6":"4","7":"208.91898","8":"360.1299","9":"185.96703","10":"31.0000","11":"-24","12":"39.0","13":"1035","14":"-13","15":"NW","16":"195.32","17":"0.0","18":"0.0","_rn_":"95"},{"1":"96","2":"2010","3":"1","4":"4","5":"23","6":"4","7":"182.62675","8":"357.9300","9":"208.18409","10":"30.0000","11":"-26","12":"38.0","13":"1035","14":"-15","15":"NW","16":"198.45","17":"0.0","18":"0.0","_rn_":"96"},{"1":"97","2":"2010","3":"1","4":"5","5":"0","6":"4","7":"150.96985","8":"354.3996","9":"209.80589","10":"34.0000","11":"-26","12":"45.0","13":"1035","14":"-17","15":"NW","16":"201.58","17":"0.0","18":"0.0","_rn_":"97"},{"1":"98","2":"2010","3":"1","4":"5","5":"1","6":"4","7":"124.50872","8":"356.0957","9":"187.37051","10":"27.0000","11":"-26","12":"49.0","13":"1035","14":"-18","15":"NW","16":"205.60","17":"0.0","18":"0.0","_rn_":"98"},{"1":"99","2":"2010","3":"1","4":"5","5":"2","6":"4","7":"114.80887","8":"354.7877","9":"162.37960","10":"25.0000","11":"-26","12":"53.0","13":"1035","14":"-19","15":"NW","16":"208.73","17":"0.0","18":"0.0","_rn_":"99"},{"1":"100","2":"2010","3":"1","4":"5","5":"3","6":"4","7":"124.37748","8":"347.4542","9":"149.12568","10":"28.0000","11":"-27","12":"45.0","13":"1035","14":"-18","15":"NW","16":"213.65","17":"0.0","18":"0.0","_rn_":"100"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div id="saving-our-work" class="section level2">
<h2>Saving Our Work</h2>
<p>Finally, lets save our work for next time:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="kw">saveRDS</span>(china, <span class="dt">file =</span> <span class="st">&quot;store/china.Rds&quot;</span>)</span></code></pre></div>
<p>Thanks for reading!</p>
</div>
</div>
<div id="navigation" class="section level1">
<h1>Navigation</h1>
<p><a href="DSblog.html">launchpad</a></p>
<p><a href="tsEDA.html">Part 2</a></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
